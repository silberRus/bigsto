<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="">2.01</ВерсияФормата>
	<Ид>481c201e-e063-4dca-b3a1-0d31fbf259ca    </Ид>
	<Наименование>УправлениеТорговлей --&gt; УправлениеСкладом</Наименование>
	<ДатаВремяСоздания>2016-03-18T17:51:58</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="11.1.9.51" СинонимКонфигурации="Управление торговлей, редакция 11.1">УправлениеТорговлей</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.0" СинонимКонфигурации="YARUS WMS (Автотехника)">УправлениеСкладом</Приемник>
	<Параметры/>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>50</Порядок>
			<Правило>
				<Код>Организации</Код>
				<Наименование>Справочник: Организации</Наименование>
				<Порядок>50</Порядок>
				<ПослеЗагрузки>Объект.Родитель = Справочники.кпКонтрагенты.СобственныеОрганизации;
Объект.ТипКонтрагента = Перечисления.ТипКонтрагента.СобственнаяОрганизация;
Объект.ПолноеНаименование = Объект.Наименование;
</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.Организации</Источник>
				<Приемник>СправочникСсылка.кпКонтрагенты</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ИНН --&gt; ИНН</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>КПП --&gt; КПП</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>6</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>7</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Склады</Код>
				<Наименование>Справочник: Склады</Наименование>
				<Порядок>100</Порядок>
				<ПослеЗагрузки>Объект.Родитель = Справочники.кпКонтрагенты.СобственныеСклады;
Объект.ТипКонтрагента = Перечисления.ТипКонтрагента.СобственныйСклад;
Объект.ПолноеНаименование = Объект.Наименование;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.Склады</Источник>
				<Приемник>СправочникСсылка.кпКонтрагенты</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Филиалы</Код>
				<Наименование>Справочник: Адреса доставки</Наименование>
				<Порядок>150</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.РСМАдресаДоставки</Источник>
				<Приемник>СправочникСсылка.кпФилиалы</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>АдресЗначенияПолей --&gt; Адрес</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="АдресЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Владелец</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.кпКонтрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; РегионДоставки</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="РегионДоставки" Вид="Реквизит" Тип="СправочникСсылка.РегионыДоставки"/>
						<КодПравилаКонвертации>РегионыДоставки                                   </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РегионыДоставки</Код>
				<Наименование>Справочник: Зоны доставки</Наименование>
				<Порядок>200</Порядок>
				<ПередВыгрузкой>Отказ = Не Источник.ЭтоГруппа;</ПередВыгрузкой>
				<ПослеЗагрузки>Объект.Родитель = Неопределено;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ЗоныДоставки</Источник>
				<Приемник>СправочникСсылка.РегионыДоставки</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ЗоныДоставки"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.РегионыДоставки"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Описание --&gt; Комментарий</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Описание" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>6</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>Справочник: Контрагенты</Наименование>
				<Порядок>250</Порядок>
				<ПослеЗагрузки>Объект.Родитель = Справочники.кпКонтрагенты.Клиенты;
Объект.ТипКонтрагента = Перечисления.ТипКонтрагента.Внешний;
Если Не ОбъектНайден тогда
	Объект.Записать();
	ДоговорКонтрагента = Справочники.кпДоговорыКонтрагентов.СоздатьЭлемент();
	ДоговорКонтрагента.Владелец = Объект.Ссылка;
	ДоговорКонтрагента.Наименование = "Основной";
	ДоговорКонтрагента.Записать();
	Объект.ОсновнойДоговорКонтрагента = ДоговорКонтрагента.Ссылка;
КонецЕсли	</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.Контрагенты</Источник>
				<Приемник>СправочникСсылка.кпКонтрагенты</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ИНН --&gt; ИНН</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>КПП --&gt; КПП</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>НаименованиеПолное --&gt; ПолноеНаименование</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПолноеНаименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; ЮридическийАдрес</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЮридическийАдрес" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ПараметрыОтбора = Новый Структура;
ПараметрыОтбора.Вставить("Вид",Справочники.ВидыКонтактнойИнформации.ЮрАдресКонтрагента);
Массив = Источник.Ссылка.КонтактнаяИнформация.НайтиСтроки(ПараметрыОтбора);

Если Массив.Количество() = 0 Тогда
	Значение = Неопределено;
Иначе
	Значение = СокрЛп(Массив[0].Представление);
КонецЕсли;

</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>--&gt; ФактическийАдрес</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ФактическийАдрес" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ПараметрыОтбора = Новый Структура;
ПараметрыОтбора.Вставить("Вид",Справочники.ВидыКонтактнойИнформации.ФактАдресКонтрагента);
Массив = Источник.Ссылка.КонтактнаяИнформация.НайтиСтроки(ПараметрыОтбора);

Если Массив.Количество() = 0 Тогда
	Значение = Неопределено;
Иначе
	Значение = СокрЛп(Массив[0].Представление);
КонецЕсли;

</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Телефон</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Телефон" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ПараметрыОтбора = Новый Структура;
ПараметрыОтбора.Вставить("Вид",Справочники.ВидыКонтактнойИнформации.ТелефонКонтрагента);
Массив = Источник.Ссылка.КонтактнаяИнформация.НайтиСтроки(ПараметрыОтбора);

Если Массив.Количество() = 0 Тогда
	Значение = Неопределено;
Иначе
	Значение = СокрЛп(Массив[0].Представление);
КонецЕсли;

</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>10</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>11</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Номенклатура</Код>
				<Наименование>Справочник: Номенклатура</Наименование>
				<Порядок>300</Порядок>
				<ПослеЗагрузки>Если Не ОбъектНайден тогда
	Объект.Записать();
КонецЕсли;	

Если Не Объект.ЭтоГруппа тогда
	Объект.МодельСкладскогоУчета = Справочники.кпМоделиСкладскогоУчета.НайтиПоКоду("001"); 
	Объект.КатегорияТовара = Справочники.кпКатегорииТоваров.НайтиПоНаименованию("Основная");
	Объект.Поклажедатель = Справочники.кпКонтрагенты.НеизвестныйКонтрагент;
	Объект.ТипНоменклатуры = Перечисления.кпТипыНоменклатуры.Товар;
	
	Попытка
		ЕдИзм =  Объект.БазоваяЕдиницаХраненияКоличества.ПолучитьОбъект();
		ЕдИзм.Вес = ПараметрыОбъекта["ВесПараметр"];
		ЕдИзм.Объем = ПараметрыОбъекта["ОбъемПараметр"];
		ЕдИзм.Записать();
	Исключение
	КонецПопытки;	

    Если ЗначениеЗаполнено(Объект.Артикул) тогда
		ШтрихКодАртикул = РегистрыСведений.кпШтрихКодыТоваров.СоздатьМенеджерЗаписи();
		ШтрихКодАртикул.ШтрихКод = СокрЛП(Объект.Артикул);
		ШтрихКодАртикул.Номенклатура = Объект.Ссылка;	
		ШтрихКодАртикул.ТипШтрихКода = ПланыВидовХарактеристик.кпТипыШтрихКодов.EAN13;
		ШтрихКодАртикул.ЕдиницаХранения = Объект.БазоваяЕдиницаХраненияКоличества;
		ШтрихКодАртикул.Качество = Справочники.кпКачество.Кондиция;
		ШтрихКодАртикул.Записать();
	КонецЕсли;	
КонецЕсли;
</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.Номенклатура</Источник>
				<Приемник>СправочникСсылка.кпНоменклатура</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.кпНоменклатура"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>НаименованиеПолное --&gt; ПолноеНаименование</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПолноеНаименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Код --&gt; КодКИС</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="КодКИС" Вид="Реквизит" Тип="Строка"/>
						<ПриводитьКДлине>12</ПриводитьКДлине>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; ДанныеПроизводителя</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДанныеПроизводителя" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник.Артикул;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>--&gt; Артикул</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ПараметрыОтбора = Новый Структура;
Свойство = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоНаименованию("Пр_ль (Товар (пр. ТМЦ))");
ПараметрыОтбора.Вставить("Свойство",Свойство);
Массив = Источник.Ссылка.ДополнительныеРеквизиты.НайтиСтроки(ПараметрыОтбора);

Если Массив.Количество() = 0 Тогда
	Значение = Неопределено;
Иначе
	Значение = СокрЛп(Массив[0].Значение);
КонецЕсли;
</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Вес --&gt; ВесПараметр</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Вес" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ВесПараметр</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = Источник.Вес;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Объем --&gt; ОбъемПараметр</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Объем" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ОбъемПараметр</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = Источник.Объем;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ШтрихКодыТоваров</Код>
				<Наименование>Регистр сведений: Штрихкоды номенклатуры</Наименование>
				<Порядок>350</Порядок>
				<ПослеЗагрузки>Объект.ТипШтрихКода = ПланыВидовХарактеристик.кпТипыШтрихКодов.EAN13;
Объект.ЕдиницаХранения = Объект.Номенклатура.БазоваяЕдиницаХраненияКоличества;
Объект.Качество = Справочники.кпКачество.Кондиция;</ПослеЗагрузки>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ШтрихкодыНоменклатуры</Источник>
				<Приемник>РегистрСведенийЗапись.кпШтрихКодыТоваров</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Номенклатура" Вид="Ресурс" Тип="СправочникСсылка.Номенклатура"/>
						<Приемник Имя="Номенклатура" Вид="Ресурс" Тип="СправочникСсылка.кпНоменклатура"/>
						<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Штрихкод --&gt; ШтрихКод</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Штрихкод" Вид="Измерение" Тип="Строка"/>
						<Приемник Имя="ШтрихКод" Вид="Измерение" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Валюты</Код>
				<Наименование>Справочник: Валюты</Наименование>
				<Порядок>400</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Валюты</Источник>
				<Приемник>СправочникСсылка.кпВалюты</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПараметрыПрописиНаРусском --&gt; ПараметрыПрописиНаРусском</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПараметрыПрописиНаРусском" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПараметрыПрописиНаРусском" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>СтавкиНДС</Код>
				<Наименование>Перечисление: Ставки НДС</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.СтавкиНДС</Источник>
				<Приемник>ПеречислениеСсылка.СтавкиНДС</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>БезНДС --&gt; БезНДС</Наименование>
						<Порядок>50</Порядок>
						<Источник>БезНДС</Источник>
						<Приемник>БезНДС</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>НДС0 --&gt; НДС0</Наименование>
						<Порядок>100</Порядок>
						<Источник>НДС0</Источник>
						<Приемник>НДС0</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НДС10 --&gt; НДС10</Наименование>
						<Порядок>150</Порядок>
						<Источник>НДС10</Источник>
						<Приемник>НДС10</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>НДС10_110 --&gt; НДС10_110</Наименование>
						<Порядок>200</Порядок>
						<Источник>НДС10_110</Источник>
						<Приемник>НДС10_110</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>НДС18 --&gt; НДС18</Наименование>
						<Порядок>250</Порядок>
						<Источник>НДС18</Источник>
						<Приемник>НДС18</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>НДС18_118 --&gt; НДС18_118</Наименование>
						<Порядок>300</Порядок>
						<Источник>НДС18_118</Источник>
						<Приемник>НДС18_118</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы                                         </Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>ПоступлениеТоваровИУслуг</Код>
				<Наименование>Документ: Поступление товаров и услуг</Наименование>
				<Порядок>400</Порядок>
				<ПередВыгрузкой>Отказ = Истина;

Если Источник.Проведен тогда
	Отказ = Ложь;
КонецЕсли;

Если Источник.Товары.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>Если Объект.Организация &lt;&gt; Константы.СобственнаяОрганизация.Получить() тогда
	Отказ = ИСТИНА;
Иначе
	Объект.Автор = Справочники.Пользователи.АвтоДиспетчерWMS;
	Объект.ВидОперации = Перечисления.кпВидыОперацийЗаказов.Заказ;
	Объект.СтатусДокумента = Перечисления.кпСтатусыДокументов.Создано;
	Объект.Договор = Объект.Контрагент.ОсновнойДоговорКонтрагента;
	Объект.Комментарий = СтрЗаменить(Объект.Комментарий, "&amp;ДатаЗагрузки&amp;", ТекущаяДата());
	Объект.Склад = Константы.СкладПоУмолчанию.Получить();
	Объект.ЗагруженИзКИС = Истина;
	Качество = Справочники.кпКачество.Кондиция;
	Для каждого Стр Из Объект.Товары Цикл
		Стр.ЕдиницаХранения = Стр.Номенклатура.БазоваяЕдиницаХраненияКоличества;
		Стр.Качество = Качество;
	КонецЦикла; 
КонецЕсли;
</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>ДокументСсылка.ПоступлениеТоваровУслуг</Источник>
				<Приемник>ДокументСсылка.кпОжидаемаяПриемка</Приемник>
				<Свойства>
					<Группа>
						<Код>1</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>2</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.кпНоменклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>СуммаСНДС --&gt; СуммаВсего</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СуммаСНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВсего" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>3</Код>
						<Наименование>Дата --&gt; ДатаЗаявкиКИС</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="ДатаЗаявкиКИС" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Номер --&gt; НомерЗаявкиКИС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="НомерЗаявкиКИС" Вид="Реквизит" Тип="Строка"/>
						<ПриводитьКДлине>15</ПриводитьКДлине>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник.Комментарий + " &amp;ДатаЗагрузки&amp; " + Источник.Менеджер.Наименование;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.кпКонтрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>ЦенаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>Валюта --&gt; Валюта</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.кпВалюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.кпКонтрагенты"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РеализацияТоваровУслуг</Код>
				<Наименование>Документ: Заказ клиента</Наименование>
				<Порядок>450</Порядок>
				<ПослеЗагрузки>Если Объект.Организация &lt;&gt; Константы.СобственнаяОрганизация.Получить() тогда
	Отказ = ИСТИНА;
Иначе
	Объект.Комментарий = СтрЗаменить(Объект.Комментарий, "&amp;ДатаЗагрузки&amp;", ТекущаяДата());
	Объект.ВидОперации = Перечисления.кпВидыОперацийЗаказов.Заказ;
	Объект.Автор = Справочники.Пользователи.АвтоДиспетчерWMS;
	Объект.Договор = Объект.Контрагент.ОсновнойДоговорКонтрагента;
	Объект.Склад = Константы.СкладПоУмолчанию.Получить();
	Объект.ЗагруженИзКИС = Истина;

	Качество = Справочники.кпКачество.Кондиция;
	Для каждого Стр Из Объект.Товары Цикл
		Стр.ЕдиницаХранения = Стр.Номенклатура.БазоваяЕдиницаХраненияКоличества;
		Стр.Качество = Качество;
	КонецЦикла;

	АдресДоставкиПараметр = ПараметрыОбъекта["АдресДоставкиПараметр"];
	ТочкаДоставки = Справочники.кпФилиалы.НайтиПоРеквизиту("Адрес", АдресДоставкиПараметр); 
	Если Не ЗначениеЗаполнено(ТочкаДоставки) Тогда
		ТочкаДоставки = Справочники.кпФилиалы.СоздатьЭлемент();
		ТочкаДоставки.Владелец = Объект.Контрагент;
		ТочкаДоставки.Адрес = АдресДоставкиПараметр;
		ТочкаДоставки.Наименование = АдресДоставкиПараметр;
		ТочкаДоставки.Записать();
	КонецЕсли; 
	Объект.Филиал = ТочкаДоставки.Ссылка;
	
КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>ДокументСсылка.РеализацияТоваровУслуг</Источник>
				<Приемник>ДокументСсылка.кпЗаказНаОтгрузку</Приемник>
				<Свойства>
					<Группа>
						<Код>1</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>	Запрос = Новый Запрос;
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	РеализацияТоваровУслугТовары.Номенклатура,
	|	СУММА(РеализацияТоваровУслугТовары.Количество) КАК Количество,
	|	СУММА(РеализацияТоваровУслугТовары.Количество) КАК РезервКИС,
	|	МИНИМУМ(РеализацияТоваровУслугТовары.Цена) КАК Цена,
	|	СУММА(РеализацияТоваровУслугТовары.Сумма) КАК Сумма,
	|	СУММА(РеализацияТоваровУслугТовары.СуммаНДС) КАК СуммаНДС,
	|	РеализацияТоваровУслугТовары.СтавкаНДС,
	|	СУММА(РеализацияТоваровУслугТовары.СуммаСНДС) КАК СуммаСНДС,
	|	РеализацияТоваровУслугТовары.Ссылка.ЦенаВключаетНДС,
	|	НЕОПРЕДЕЛЕНО КАК НомерГТД
	|ИЗ
	|	Документ.РеализацияТоваровУслуг.Товары КАК РеализацияТоваровУслугТовары
	|ГДЕ
	|	РеализацияТоваровУслугТовары.Ссылка = &amp;Реализация
	|
	|СГРУППИРОВАТЬ ПО
	|	РеализацияТоваровУслугТовары.Номенклатура,
	|	РеализацияТоваровУслугТовары.СтавкаНДС,
	|	РеализацияТоваровУслугТовары.Ссылка.ЦенаВключаетНДС
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	РеализацияТоваровУслугВидыЗапасов.АналитикаУчетаНоменклатуры.Номенклатура КАК Номенклатура,
	|	РеализацияТоваровУслугВидыЗапасов.НомерГТД
	|ИЗ
	|	Документ.РеализацияТоваровУслуг.ВидыЗапасов КАК РеализацияТоваровУслугВидыЗапасов
	|ГДЕ
	|	РеализацияТоваровУслугВидыЗапасов.Ссылка = &amp;Реализация"
	;
	Запрос.УстановитьПараметр("Реализация",Источник.Ссылка);
	
	МасРезультатов = Запрос.ВыполнитьПакет();
	ТаблицаТоваров = МасРезультатов.Получить(0).Выгрузить();
	ТаблицаГТД = МасРезультатов.Получить(1).Выгрузить();
	Для каждого СтрокаТовар Из ТаблицаТоваров Цикл
		НомерГТД = "";
		МасСтрок = ТаблицаГТД.НайтиСтроки(Новый Структура("Номенклатура",СтрокаТовар.Номенклатура));
		Для каждого СтрокаГТД из МасСтрок Цикл
			Если не ЗначениеЗаполнено(НомерГТД) Тогда
				НомерГТД = СокрЛП(СтрокаГТД.НомерГТД);			
			Иначе
				НомерГТД = НомерГТД+","+СокрЛП(СтрокаГТД.НомерГТД);			
			КонецЕсли;
		КонецЦикла;
		СтрокаТовар.НомерГТД = НомерГТД;
		Если СтрокаТовар.ЦенаВключаетНДС Тогда
			СтрокаТовар.Цена = СтрокаТовар.СуммаСНДС / СтрокаТовар.Количество;
		Иначе	
			СтрокаТовар.Цена = (СтрокаТовар.СуммаСНДС - СтрокаТовар.СуммаНДС) / СтрокаТовар.Количество;
		КонецЕсли;	
	КонецЦикла;
	КоллекцияОбъектов  = ТаблицаТоваров;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>2</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.кпНоменклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>СуммаСНДС --&gt; СуммаВсего</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СуммаСНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВсего" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>Количество --&gt; РезервКИС</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="РезервКИС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>--&gt; НомерГТД</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.НомерГТД;</ПередВыгрузкой>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>9</Код>
						<Наименование>Валюта --&gt; Валюта</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.кпВалюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ЦенаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Дата --&gt; ДатаЗаявкиКИС</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="ДатаЗаявкиКИС" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>12</Код>
						<Наименование>Номер --&gt; НомерЗаявкиКИС</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="НомерЗаявкиКИС" Вид="Реквизит" Тип="Строка"/>
						<ПриводитьКДлине>15</ПриводитьКДлине>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; ДатаИВремяОтгрузки</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДатаИВремяОтгрузки" Вид="Реквизит" Тип="Дата"/>
						<ПередВыгрузкой>Значение = Источник.ЗаказКлиента.ДатаОтгрузки;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник.Комментарий + " &amp;ДатаЗагрузки&amp; " + Источник.Менеджер.Наименование;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>--&gt; ИспользоватьУпаковку</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ИспользоватьУпаковку" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Контрагент.АдресДоставки) тогда
	Значение = НЕ Источник.Контрагент.АдресДоставки.СПБ;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.кпКонтрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.кпКонтрагенты"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>--&gt; Самовывоз</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Самовывоз" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Источник.СпособДоставки = Перечисления.СпособыДоставки.Самовывоз;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>АдресДоставки --&gt; АдресДоставкиПараметр</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>АдресДоставкиПараметр</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = Источник.АдресДоставки;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВозвратТоваровОтКлиента</Код>
				<Наименование>Документ: Возврат товаров от клиента</Наименование>
				<Порядок>500</Порядок>
				<ПередВыгрузкой>Отказ = Истина;

Если Источник.Проведен тогда
	Отказ = Ложь;
КонецЕсли;

Если Источник.Товары.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>Если Объект.Организация &lt;&gt; Константы.СобственнаяОрганизация.Получить() тогда
	Отказ = ИСТИНА;
Иначе
	Объект.Автор = Справочники.Пользователи.АвтоДиспетчерWMS;
	Объект.ВидОперации = Перечисления.кпВидыОперацийЗаказов.ВозвратТоваров;
	Объект.СтатусДокумента = Перечисления.кпСтатусыДокументов.Создано;
	Объект.Договор = Объект.Контрагент.ОсновнойДоговорКонтрагента;
	Объект.Комментарий = СтрЗаменить(Объект.Комментарий, "&amp;ДатаЗагрузки&amp;", ТекущаяДата());
	Объект.Склад = Константы.СкладПоУмолчанию.Получить();
	Качество = Справочники.кпКачество.Кондиция;
	Для каждого Стр Из Объект.Товары Цикл
		Стр.ЕдиницаХранения = Стр.Номенклатура.БазоваяЕдиницаХраненияКоличества;
		Стр.Качество = Качество;
	КонецЦикла; 
КонецЕсли;
</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>ДокументСсылка.ВозвратТоваровОтКлиента</Источник>
				<Приемник>ДокументСсылка.кпОжидаемаяПриемка</Приемник>
				<Свойства>
					<Группа>
						<Код>1</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>2</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.кпНоменклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>СуммаСНДС --&gt; СуммаВсего</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СуммаСНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВсего" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>9</Код>
						<Наименование>Валюта --&gt; Валюта</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.кпВалюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник.Комментарий + " &amp;ДатаЗагрузки&amp; " + Источник.Менеджер.Наименование;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.кпКонтрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.кпКонтрагенты"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>ЦенаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>Дата --&gt; ДатаЗаявкиКИС</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="ДатаЗаявкиКИС" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>15</Код>
						<Наименование>Номер --&gt; НомерЗаявкиКИС</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="НомерЗаявкиКИС" Вид="Реквизит" Тип="Строка"/>
						<ПриводитьКДлине>15</ПриводитьКДлине>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Инвентаризация</Код>
				<Наименование>Документ: Пересчет товаров</Наименование>
				<Порядок>550</Порядок>
				<ПередВыгрузкой>Отказ = Истина;

Если Источник.Проведен тогда
	Отказ = Ложь;
КонецЕсли;

Если Источник.Товары.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>Объект.Комментарий = СтрЗаменить(Объект.Комментарий, "&amp;ДатаЗагрузки&amp;", ТекущаяДата());
Объект.Склад = Константы.СкладПоУмолчанию.Получить();
Объект.Модель = Справочники.кпМоделиБП.БыстраяИнвентаризация;
</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>ДокументСсылка.ПересчетТоваров</Источник>
				<Приемник>ДокументСсылка.кпИнвентаризация</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник.Комментарий + " &amp;ДатаЗагрузки&amp; " + Источник.Исполнитель.Наименование;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Дата --&gt; ДатаКИС</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="ДатаКИС" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Номер --&gt; НомерКИС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="НомерКИС" Вид="Реквизит" Тип="Строка"/>
						<ПриводитьКДлине>15</ПриводитьКДлине>
					</Свойство>
					<Группа>
						<Код>4</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>5</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.кпНоменклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>50</Порядок>
			<Правило Отключить="false">
				<Код>Организации</Код>
				<Наименование>Организации</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Организации</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Склады</Код>
				<Наименование>Склады</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Склады</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Контрагенты</Код>
				<Наименование>Контрагенты</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Контрагенты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Номенклатура</Код>
				<Наименование>Номенклатура</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Номенклатура</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Валюты</Код>
				<Наименование>Валюты</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Валюты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ЗоныДоставки</Код>
				<Наименование>ЗоныДоставки</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>РегионыДоставки                                   </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ЗоныДоставки</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>РегистрыСведений</Код>
			<Наименование>РегистрыСведений</Наименование>
			<Порядок>100</Порядок>
			<Правило Отключить="false">
				<Код>ШтрихкодыНоменклатуры</Код>
				<Наименование>ШтрихкодыНоменклатуры</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>ШтрихКодыТоваров                                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.ШтрихкодыНоменклатуры</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>150</Порядок>
			<Правило Отключить="false">
				<Код>ПоступлениеТоваровУслуг</Код>
				<Наименование>ПоступлениеТоваровУслуг</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>ПоступлениеТоваровИУслуг                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПоступлениеТоваровУслуг</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>РеализацияТоваровУслуг</Код>
				<Наименование>РеализацияТоваровУслуг                            </Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>РеализацияТоваровУслуг                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РеализацияТоваровУслуг</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>
Если Объект.Проведен И Объект.Дата &gt; Дата("20160101000000") тогда
	Отказ = Ложь;
Иначе
	Отказ = Истина;
КонецЕсли;
Если Не Отказ Тогда
	Если Объект.Товары.Количество() = 0 Тогда
		Отказ = Истина;
	КонецЕсли;
КонецЕсли;
</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ВозвратТоваровОтКлиента</Код>
				<Наименование>ВозвратТоваровОтКлиента</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровОтКлиента                           </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ВозвратТоваровОтКлиента</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПересчетТоваров</Код>
				<Наименование>ПересчетТоваров</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>Инвентаризация                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПересчетТоваров</ОбъектВыборки>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы/>
	<Запросы/>
</ПравилаОбмена>