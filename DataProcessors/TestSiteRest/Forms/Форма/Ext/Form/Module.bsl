
&НаСервере
Функция ПолучитьнаСервере(Имяметода, Параметры = Неопределено);
	
	Если Параметры = Неопределено Тогда
		Параметры = Новый Структура("Параметры", Новый Структура("id", Параметры));
	КонецЕсли;
	Параметры.ВСтавить("Тело", ТелоJSON);
	
	Начало 		= ТекущаяУниверсальнаяДатаВМиллисекундах();
	ТекстОтвет 	=  Вычислить(СтрШаблон("HTTPМодуль.%1(Параметры, Истина)", ИмяМетода));
	
	ВремяПоследнийОперации = ТекущаяУниверсальнаяДатаВМиллисекундах() - Начало;
	
	Возврат ТекстОтвет;
	
КонецФункции

&НаКлиенте
Процедура Вывеститекст(Текст)
	
	Док = Новый ТекстовыйДокумент;
	Док.УстановитьТекст(Текст);
	
	Док.Показать();
	
КонецПроцедуры
&НаКлиенте
Процедура GetWarehouses(Команда)
	
	Вывеститекст(ПолучитьнаСервере("СкладыGET").Тело);
	
КонецПроцедуры
&НаКлиенте
Процедура GetManufaturers(Команда)
	
	Вывеститекст(ПолучитьнаСервере("ПроизводителиGET").Тело);
	
КонецПроцедуры
&НаКлиенте
Процедура GetManufature(Команда)
	
	Вывеститекст(ПолучитьнаСервере("ПроизводительGET", Новый Структура("guid", Параметр1)).Тело);
	
КонецПроцедуры
&НаКлиенте
Процедура GetCategories(Команда)
	
	ВывестиТекст(ПолучитьнаСервере("КатегорииGET").Тело);
		
КонецПроцедуры
&НаКлиенте
Процедура GetCategory(Команда)
	
	ВывестиТекст(ПолучитьнаСервере("КатегорияGET", Новый Структура("guid", Параметр1)).Тело);
	
КонецПроцедуры
&НаКлиенте
Процедура GetProducts(Команда)
	
	ВывестиТекст(ПолучитьнаСервере("ТоварыGET").Тело);
	
КонецПроцедуры
&НаКлиенте
Процедура GetProduct(Команда)
	
	ВывестиТекст(ПолучитьнаСервере("ТоварGET", Новый Структура("guid", Параметр1)).Тело);
	
КонецПроцедуры

&НаКлиенте
Процедура Gedelivery_time(Команда)
	
	ВывестиТекст(ПолучитьнаСервере("ВремяДоставкиGET", Новый Структура("id", Параметр1)).Тело);
	
КонецПроцедуры
&НаКлиенте
Процедура Geadress(Команда)
	
	ВывестиТекст(ПолучитьнаСервере("АдресаДоставкиGET", Новый Структура("id", Параметр1)).Тело);

КонецПроцедуры

&НаСервере
Процедура СущностьПриИзмененииНаСервере()
	
	ГуидСущности = XMLСтрока(Сущность);
	
КонецПроцедуры
&НаКлиенте
Процедура СущностьПриИзменении(Элемент)
	
	СущностьПриИзмененииНаСервере()
	
КонецПроцедуры

&НаКлиенте
Процедура GetContra(Команда)
	
	ВывестиТекст(ПолучитьнаСервере("КонтрагентыGET", Новый Структура("id", Параметр1)).Тело);

КонецПроцедуры
&НаКлиенте
Процедура GeBilling(Команда)
	
	ВывестиТекст(ПолучитьнаСервере("ДебиторскаяЗадолженностьGET", Новый Структура("id", Параметр1)).Тело);
	
КонецПроцедуры

&НаКлиенте
Процедура min_for_free_delivery(Команда)
	
	ВывестиТекст(ПолучитьнаСервере("МинимальнаяСуммаДоставкиGET").Тело);
	
КонецПроцедуры

&НаСервере
Функция НайтиПоГуидПоМенеджеру(Менеджер, МетаОбъекты, гуид)
	
	Для Каждого МетаОб Из МетаОбъекты Цикл
		Ссылка = Менеджер[МетаОб.Имя].ПолучитьСсылку(гуид);
		Если Ссылка.ПолучитьОбъект() <> Неопределено Тогда
			Возврат Ссылка;
		КонецЕсли;
	КонецЦикла;
	
КонецФункции
&НаСервере
Функция НайтиПоГуидуНаСервере()
	
	гуид = Новый УникальныйИдентификатор(Параметр1);
	
	Ссылка = НайтиПоГуидПоМенеджеру(Справочники, Метаданные.Справочники, гуид);
	Если Ссылка <> Неопределено Тогда
		Возврат Ссылка;
	КонецЕсли;
	
	Ссылка = НайтиПоГуидПоМенеджеру(Документы, Метаданные.Документы, гуид);
	Если Ссылка <> Неопределено Тогда
		Возврат Ссылка;
	КонецЕсли;
	
КонецФункции
&НаКлиенте
Процедура НайтиПоГуиду(Команда)
	
	Ссылка = НайтиПоГуидуНаСервере();
	Если Ссылка = Неопределено Тогда
		ПоказатьПредупреждение(,"Не нашел");
	Иначе
		ПоказатьЗначение(,Ссылка);
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура available_stores(Команда)
	
	ВывестиТекст(ПолучитьнаСервере("ДоступныеСкладыGET", Новый Структура("id", Параметр1)).Тело);
	
КонецПроцедуры
