&НаКлиенте
Процедура СоставКладовщиковПриИзменении(Элемент)
	СоставКладовщиковПриИзмененииНаСервере();
КонецПроцедуры

&НаСервере
Процедура СоставКладовщиковПриИзмененииНаСервере()
	
	ТаблицаКладовщиков = Объект.СоставКладовщиков.Выгрузить();
	
	НовоеНаименование = "";
	
	Для Каждого Строка Из ТаблицаКладовщиков Цикл
		Если ЗначениеЗаполнено(Строка(Строка.ФИО)) Тогда
			НовоеНаименование = НовоеНаименование + ОбработатьСтрокуНаименования(Строка(Строка.ФИО), НовоеНаименование);
		КонецЕсли;
	КонецЦикла;
	
	Объект.Наименование = НовоеНаименование;
	
КонецПроцедуры

&НаСервереБезКонтекста
Функция ОбработатьСтрокуНаименования(ФИО, Строка)
	
	СокрФИО = "";
	Итератор = 1;
	МассивФИО = СтрРазделить(ФИО, " ", Ложь);
	
	Для Каждого ЭлементМассива Из МассивФИО Цикл
		СокрФИО = СокрФИО + ?(Итератор = 1, ЭлементМассива, ?(Итератор = 2, " ", "") + Лев(ЭлементМассива, 1) + ".");
		Итератор = Итератор + 1;
	КонецЦикла;
	
	Возврат ?(ЗначениеЗаполнено(Строка), "/", "") + СокрФИО;
	
КонецФункции

