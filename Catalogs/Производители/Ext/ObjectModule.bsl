
Процедура ПередЗаписью(Отказ)
	
	// Запрет с одинаковым наименованием
	
	Запрос = Новый Запрос(СтрШаблон("ВЫБРАТЬ ПЕРВЫЕ 1 Ссылка ИЗ Справочник.Производители ГДЕ Наименование = ""%1"" И Ссылка <> &Ссылка", Наименование));
	Запрос.УстановитьПараметр("Ссылка", Ссылка);
	
	Если Не Запрос.Выполнить().Пустой() Тогда
		Отказ = Истина;
		Сообщить(СтрШаблон("Производитель с таким наименованием ""%1"" уже существует!", Наименование));
	КонецЕсли;
	
КонецПроцедуры
