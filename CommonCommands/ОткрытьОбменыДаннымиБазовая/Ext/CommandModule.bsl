
#Область ОбработчикиСобытий

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	Если КоличествоНастроенныхСинхронизаций() = 0 Тогда
		
		ПараметрыФормы = Новый Структура("ИмяПланаОбмена", "СинхронизацияДанныхЧерезУниверсальныйФормат");
		ПараметрыФормы.Вставить("ДополнительнаяНастройка", "ОбменУТБП");
		
		ОткрытьФорму("Обработка.ПомощникСозданияОбменаДанными.Форма.Форма", ПараметрыФормы, , ,
			ПараметрыВыполненияКоманды.Окно, , , РежимОткрытияОкнаФормы.БлокироватьОкноВладельца);
			
	Иначе
			
		ОткрытьФорму("ОбщаяФорма.СинхронизацияДанных", , , ,ПараметрыВыполненияКоманды.Окно);
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Функция КоличествоНастроенныхСинхронизаций() 
	КоличествоНастроенныхОбменов = ОбменДаннымиСервер.КоличествоНастроенныхОбменов(ОбменДаннымиПовтИсп.ПланыОбменаБСП());
	Возврат КоличествоНастроенныхОбменов;
КонецФункции

#КонецОбласти



