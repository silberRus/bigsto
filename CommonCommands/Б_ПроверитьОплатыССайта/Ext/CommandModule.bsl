
&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	лКоличествоДоков = Б_ПечатьЧековСервер.КоличествоДокументовДляЧеков();
	
	Если лКоличествоДоков > 0 тогда
		ОповещениеВопрос = Новый ОписаниеОповещения("ОповещениеВопрос", ЭтотОбъект);
		ПоказатьВопрос(ОповещениеВопрос, "Не выведено на печать " + Строка(лКоличествоДоков) + " чеков. вывести?",РежимДиалогаВопрос.ДаНет);
	КонецЕсли;

КонецПроцедуры


&НаКлиенте
Процедура ОповещениеВопрос(РезультатВыполнения, Параметры) Экспорт
	
	Если РезультатВыполнения = КодВозвратаДиалога.Нет Тогда
        Возврат;
	КонецЕсли;
	
	Если НЕ Б_ПечатьЧековСервер.ЭтоНужноеРабочееМесто() тогда 
		ОповещениеИнформация = Новый ОписаниеОповещения("ОповещениеИнформации", ЭтотОбъект);
		ПоказатьВопрос(ОповещениеИнформация, "Закрытие смены должно выполнятся на рабочем месте, указанном в общих настройках",РежимДиалогаВопрос.ОК);
	Иначе
		Б_ПечатьЧековКлиент.ПечатьЧеков();	
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ОповещениеИнформации(РезультатВыполнения, Параметры) Экспорт
	
КонецПроцедуры
